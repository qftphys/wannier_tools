<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Features of WannierTools &#8212; WannierTools 2.1 documentation</title>
    
    <link rel="stylesheet" href="static/classic.css" type="text/css" />
    <link rel="stylesheet" href="static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '2.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="static/jquery.js"></script>
    <script type="text/javascript" src="static/underscore.js"></script>
    <script type="text/javascript" src="static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="top" title="WannierTools 2.1 documentation" href="index.html" />
    <link rel="next" title="Examples" href="examples.html" />
    <link rel="prev" title="Input" href="input.html" /> 
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="f-modindex.html" title="Fortran Module Index"
             >fortran modules</a> |</li>
        <li class="right" >
          <a href="examples.html" title="Examples"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="input.html" title="Input"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">WannierTools 2.1 documentation</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="features-of-wanniertools">
<h1>Features of WannierTools<a class="headerlink" href="#features-of-wanniertools" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li><a class="reference internal" href="#bulkbandcalculation"><span class="std std-ref">Bulk band calculation</span></a></li>
<li><a class="reference internal" href="#bulkfscalculation"><span class="std std-ref">BulkFS calculation</span></a></li>
<li><a class="reference internal" href="#energygapcalculation"><span class="std std-ref">Energy gap calculations</span></a></li>
<li><a class="reference internal" href="#slabbandcalculation"><span class="std std-ref">Slab band calculation</span></a></li>
<li><a class="reference internal" href="#ribbonbandcalculation"><span class="std std-ref">Nanowire/nanoribbon  band calculation</span></a></li>
<li><a class="reference internal" href="#sscalculation"><span class="std std-ref">Surface state ARPES calculation</span></a></li>
<li><a class="reference internal" href="#ssqpicalculation"><span class="std std-ref">Surface state QPI calculation</span></a></li>
<li><a class="reference internal" href="#fermiarccalculation"><span class="std std-ref">Fermi arc calculation</span></a></li>
<li><a class="reference internal" href="#spintexturecalculation"><span class="std std-ref">Spin texture calculation</span></a></li>
<li><a class="reference internal" href="#berrycurvcalculation"><span class="std std-ref">Berry curvature calculation</span></a></li>
<li><a class="reference internal" href="#wanniercentercalculation"><span class="std std-ref">Wannier charge center/Wilson loop calculation</span></a></li>
</ul>
<div class="section" id="bulk-band-calculation">
<span id="bulkbandcalculation"></span><h2>Bulk band calculation<a class="headerlink" href="#bulk-band-calculation" title="Permalink to this headline">¶</a></h2>
<p>Calculate bulk energy band for a series k lines. This is the basic calculation after the
construction of Wannier functions. You have to compare your Wannier interpolated bands
with the DFT bands. Those two bands should match well around the Fermi level.</p>
<div class="section" id="input">
<span id="bulkekin"></span><h3>Input<a class="headerlink" href="#input" title="Permalink to this headline">¶</a></h3>
<p>Typical flags for bulk band calculation in the input.dat.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>&amp;CONTROL
BulkBand_calc = T
/
&amp;PARAMETERS
Nk1 = 101   ! Number of k points for each k line
/

KPATH_BULK     ! k point path
4              ! number of k lines only for bulk band
G 0.00000 0.00000 0.0000 Z 0.00000 0.00000 0.5000
Z 0.00000 0.00000 0.5000 F 0.50000 0.50000 0.0000
F 0.50000 0.50000 0.0000 G 0.00000 0.00000 0.0000
G 0.00000 0.00000 0.0000 L 0.50000 0.00000 0.0000
</pre></div>
</div>
<p>See <a class="reference internal" href="input.html#controlnamelist"><span class="std std-ref">CONTROL</span></a>, <a class="reference internal" href="input.html#parametersnamelist"><span class="std std-ref">PARAMETERS</span></a>, <a class="reference internal" href="input.html#kpathbulk"><span class="std std-ref">KPATH_BULK</span></a></p>
</div>
<div class="section" id="output">
<h3>Output<a class="headerlink" href="#output" title="Permalink to this headline">¶</a></h3>
<p>The outputs for bulk band calculation are <strong>bulkek.dat</strong> and <strong>bulkek.gnu</strong>. You can get the band plot by running</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">gnuplot</span> <span class="n">bulkek</span><span class="o">.</span><span class="n">gnu</span>
</pre></div>
</div>
<p>or</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">xmgrace</span> <span class="n">bulkek</span><span class="o">.</span><span class="n">dat</span>
</pre></div>
</div>
<p>to get bandstucture plot.</p>
<p>The data structure for <strong>bulkek.dat</strong></p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="mf">0.000000000</span>       <span class="o">-</span><span class="mf">2.673821992</span>  <span class="mi">119</span>   <span class="mi">80</span>   <span class="mi">80</span>  <span class="mi">119</span>   <span class="mi">80</span>   <span class="mi">80</span>  <span class="mi">205</span>  <span class="mi">138</span>  <span class="mi">138</span>   <span class="mi">70</span>   <span class="mi">40</span>   <span class="mi">40</span>   <span class="mi">70</span>   <span class="mi">40</span>   <span class="mi">40</span>    <span class="mi">0</span>    <span class="mi">0</span>    <span class="mi">0</span>    <span class="mi">0</span>    <span class="mi">0</span>    <span class="mi">0</span>    <span class="mi">0</span>    <span class="mi">0</span>    <span class="mi">0</span>    <span class="mi">0</span>    <span class="mi">0</span>    <span class="mi">0</span>    <span class="mi">0</span>    <span class="mi">0</span>    <span class="mi">0</span>
<span class="mf">0.016453872</span>       <span class="o">-</span><span class="mf">2.681536808</span>  <span class="mi">118</span>   <span class="mi">78</span>   <span class="mi">78</span>  <span class="mi">118</span>   <span class="mi">78</span>   <span class="mi">78</span>  <span class="mi">203</span>  <span class="mi">134</span>  <span class="mi">134</span>   <span class="mi">82</span>   <span class="mi">41</span>   <span class="mi">41</span>   <span class="mi">82</span>   <span class="mi">41</span>   <span class="mi">41</span>    <span class="mi">0</span>    <span class="mi">0</span>    <span class="mi">0</span>    <span class="mi">0</span>    <span class="mi">0</span>    <span class="mi">0</span>    <span class="mi">0</span>    <span class="mi">0</span>    <span class="mi">0</span>    <span class="mi">0</span>    <span class="mi">0</span>    <span class="mi">0</span>    <span class="mi">0</span>    <span class="mi">0</span>    <span class="mi">0</span>
</pre></div>
</div>
<ol class="arabic simple">
<li>The 1st column represents k points for the given kpath (KPATH_BULK)</li>
<li>The 2nd column is the energy level</li>
<li>From the 3rd to the n&#8217;th column are the projected weight of the wave
function at each k point and each band onto
each wannier orbitals. Those weights are normalized
to 255 for the color plot convinence.</li>
</ol>
<p>The subrotine for this feature is <a class="reference internal" href="subroutine.html#f/_/ek_bulk" title="f/_/ek_bulk"><code class="xref f f-func docutils literal"><span class="pre">ek_bulk()</span></code></a></p>
</div>
</div>
<div class="section" id="bulkfs-calculation">
<span id="bulkfscalculation"></span><h2>BulkFS calculation<a class="headerlink" href="#bulkfs-calculation" title="Permalink to this headline">¶</a></h2>
<p>Bulk Fermi surface calculation.</p>
<div class="section" id="id1">
<h3>Input<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<p>You should specify the number of k points for each three reciprocal vectors Nk1, Nk2, Nk3
in NAMELISTS PARAMETERS</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>&amp;CONTROL
BulkFS_calc = T
/
&amp;PARAMETERS
Nk1 = 101   ! No. of slices for the 1st reciprocal vector
Nk2 = 101   ! No. of slices for the 2nd reciprocal vector
Nk3 = 101   ! No. of slices for the 3rd reciprocal vector
/
</pre></div>
</div>
<p>See <a class="reference internal" href="input.html#controlnamelist"><span class="std std-ref">CONTROL</span></a>, <a class="reference internal" href="input.html#parametersnamelist"><span class="std std-ref">PARAMETERS</span></a></p>
</div>
<div class="section" id="id2">
<h3>Output<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<p>The outputs for this function are <strong>FS3D.bxsf</strong>.
You can plot the FS with <a class="reference external" href="http://www.xcrysden.org">xcrysden</a>  run</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>xcrysden —bxsf FS3D.bxsf
</pre></div>
</div>
<p>to get the plot.</p>
<p>By the way, Bulk band and BulkFS calculations were already implemented in Wannier90 code.</p>
</div>
</div>
<div class="section" id="energy-gap-calculations">
<span id="energygapcalculation"></span><h2>Energy gap calculations<a class="headerlink" href="#energy-gap-calculations" title="Permalink to this headline">¶</a></h2>
<p>We support two modes for energy gap calculations.The formula is
<span class="math">\(gap(k)= E_{NumOccupied+1}(k)- E_{NumOccpuied}(k)\)</span></p>
<div class="section" id="gap-plane-mode">
<h3>Gap_plane mode<a class="headerlink" href="#gap-plane-mode" title="Permalink to this headline">¶</a></h3>
<p>Calculate the energy gap for the k points in the KPLANE_BULK.
This is useful to show Weyl points and nodal line structure.</p>
<div class="section" id="id3">
<h4>Input<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h4>
<p>Typical input parameters for BulkGap_plane calculation</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>&amp;CONTROL
BulkGap_Plane_calc = T
/
&amp;PARAMETERS
Nk1 = 101   ! No. of slices for the 1st reciprocal vector
Nk2 = 101   ! No. of slices for the 2nd reciprocal vector
/

KPLANE_BULK
 0.00  0.00  0.00   ! Original point for 3D k plane
 1.00  0.00  0.00   ! The first vector to define 3d k space plane
 0.00  0.50  0.00   ! The second vector to define 3d k space plane
</pre></div>
</div>
<p>See <a class="reference internal" href="input.html#controlnamelist"><span class="std std-ref">CONTROL</span></a>, <a class="reference internal" href="input.html#parametersnamelist"><span class="std std-ref">PARAMETERS</span></a>, <a class="reference internal" href="input.html#kpathbulk"><span class="std std-ref">KPATH_BULK</span></a></p>
</div>
<div class="section" id="id4">
<h4>Output<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h4>
<p>The outputs for Gap_plane mode are <strong>GapPlane.dat</strong>, <strong>GapPlane.gnu</strong>. The <strong>GapPlane.png</strong> will get by</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">gnuplot</span> <span class="n">GapPlane</span><span class="o">.</span><span class="n">gnu</span>
</pre></div>
</div>
<p>The head of <strong>GapPlane.dat</strong></p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">kx</span>              <span class="n">ky</span>              <span class="n">kz</span>             <span class="n">gap</span>             <span class="n">Ev4</span>             <span class="n">Ev3</span>             <span class="n">Ev2</span>             <span class="n">Ev1</span>             <span class="n">Ec1</span>             <span class="n">Ec2</span>             <span class="n">Ec3</span>             <span class="n">Ec4</span>              <span class="n">k1</span>              <span class="n">k2</span>              <span class="n">k3</span>
<span class="mf">0.00000000</span>      <span class="mf">0.00000000</span>      <span class="mf">0.00000000</span>      <span class="mf">0.45569845</span>     <span class="o">-</span><span class="mf">0.69109275</span>     <span class="o">-</span><span class="mf">0.69109055</span>     <span class="o">-</span><span class="mf">0.29654328</span>     <span class="o">-</span><span class="mf">0.29654073</span>      <span class="mf">0.15915772</span>      <span class="mf">0.15915871</span>      <span class="mf">1.24348171</span>      <span class="mf">1.24348457</span>      <span class="mf">0.00000000</span>      <span class="mf">0.00000000</span>      <span class="mf">0.00000000</span>
<span class="mf">0.03796028</span>     <span class="o">-</span><span class="mf">0.02191637</span>      <span class="mf">0.00548462</span>      <span class="mf">0.43770730</span>     <span class="o">-</span><span class="mf">0.77636510</span>     <span class="o">-</span><span class="mf">0.77598312</span>     <span class="o">-</span><span class="mf">0.26035113</span>     <span class="o">-</span><span class="mf">0.26027881</span>      <span class="mf">0.17742849</span>      <span class="mf">0.17771545</span>      <span class="mf">1.29499437</span>      <span class="mf">1.29505298</span>      <span class="mf">0.00000000</span>      <span class="mf">0.02500000</span>      <span class="mf">0.00000000</span>
</pre></div>
</div>
<ul class="simple">
<li>Column 1-3 are the Cartesian coordinates of the k points in the KPLANE_BULK, in unit of <span class="math">\(\frac{1}{Angstrom}\)</span></li>
<li>Column 4 is the energy gap</li>
<li>Column 5-12 are the energy value for valence and conduction bands close to the Fermi level. There are
4 conduction bands and 4 valence bands.</li>
<li>Column 13-15 are the Direct coordinates of the k points in the KPLANE_BULK</li>
</ul>
</div>
</div>
<div class="section" id="gap-cube-mode">
<h3>Gap_Cube mode<a class="headerlink" href="#gap-cube-mode" title="Permalink to this headline">¶</a></h3>
<p>This helps us to find Weyl points and nodal line structure in the 3D BZ.</p>
<div class="section" id="id5">
<h4>Input<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h4>
<p>Typical input parameters for BulkGap_cube calculation</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>&amp;CONTROL
BulkGap_Cube_calc = T
/
&amp;PARAMETERS
Nk1 = 101   ! No. of slices for the 1st reciprocal vector
Nk2 = 101   ! No. of slices for the 2nd reciprocal vector
Nk3 = 101   ! No. of slices for the 3rd reciprocal vector
/

KCUBE_BULK
-0.50 -0.50 -0.50   ! Original point for 3D k plane
 1.00  0.00  0.00   ! The 1st vector to define 3d k cube
 0.00  1.00  0.00   ! The 2nd vector to define 3d k cube
 0.00  0.00  1.00   ! The 3rd vector to define 3d k cube
</pre></div>
</div>
<p>See <a class="reference internal" href="input.html#controlnamelist"><span class="std std-ref">CONTROL</span></a>, <a class="reference internal" href="input.html#parametersnamelist"><span class="std std-ref">PARAMETERS</span></a>, <span class="xref std std-ref">kcubebulk</span></p>
</div>
<div class="section" id="id6">
<h4>Output<a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h4>
<p>The outputs for Gap_plane mode are <strong>GapCube.dat</strong>, <strong>GapCube.gnu</strong>. The <strong>GapCube.png</strong> will get by</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">gnuplot</span> <span class="n">GapCube</span><span class="o">.</span><span class="n">gnu</span>
</pre></div>
</div>
<p>The head of <strong>GapCube.dat</strong> are</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">kx</span> <span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="n">A</span><span class="p">)</span>        <span class="n">ky</span> <span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="n">A</span><span class="p">)</span>        <span class="n">kz</span> <span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="n">A</span><span class="p">)</span>      <span class="n">Energy</span> <span class="n">gap</span>              <span class="n">Ev</span>              <span class="n">Ec</span>      <span class="n">k1</span> <span class="p">(</span><span class="mi">2</span><span class="n">pi</span><span class="o">/</span><span class="n">a</span><span class="p">)</span>      <span class="n">k2</span> <span class="p">(</span><span class="mi">2</span><span class="n">pi</span><span class="o">/</span><span class="n">b</span><span class="p">)</span>      <span class="n">k3</span> <span class="p">(</span><span class="mi">2</span><span class="n">pi</span><span class="o">/</span><span class="n">c</span><span class="p">)</span>
<span class="mf">0.00000000</span>      <span class="mf">0.87665487</span>     <span class="o">-</span><span class="mf">0.54846229</span>      <span class="mf">0.79075142</span>     <span class="o">-</span><span class="mf">0.34827281</span>      <span class="mf">0.44247861</span>     <span class="o">-</span><span class="mf">0.50000000</span>     <span class="o">-</span><span class="mf">0.50000000</span>     <span class="o">-</span><span class="mf">0.50000000</span>
<span class="mf">0.00000000</span>      <span class="mf">0.87665487</span>     <span class="o">-</span><span class="mf">0.51555455</span>      <span class="mf">0.86792416</span>     <span class="o">-</span><span class="mf">0.38635069</span>      <span class="mf">0.48157346</span>     <span class="o">-</span><span class="mf">0.50000000</span>     <span class="o">-</span><span class="mf">0.50000000</span>     <span class="o">-</span><span class="mf">0.45000000</span>
</pre></div>
</div>
<ul class="simple">
<li>Column 1-3 are the Cartesian coordinates of the k points where energy gap is small than Gap_threshold, in unit of <span class="math">\(\frac{1}{Angstrom}\)</span></li>
<li>Column 4 is the energy gap. Those values are smaller than Gap_threshold, see <a class="reference internal" href="input.html#parametersnamelist"><span class="std std-ref">PARAMETERS</span></a></li>
<li>Column 5-6 are the energy value for valence and conduction bands close to the Fermi level. There are
4 conduction bands and 4 valence bands.</li>
<li>Column 7-9 are the Direct coordinates of the k points.</li>
</ul>
</div>
</div>
</div>
<div class="section" id="find-nodes-calculation">
<span id="findnodescalculation"></span><h2>Find Nodes calculation<a class="headerlink" href="#find-nodes-calculation" title="Permalink to this headline">¶</a></h2>
<p>Beside by using GapCube and GapPlane to find Weyl/Dirac nodes or node lines, we can directly
using FindNodes function.</p>
<p>Typical input parameters for FindNodes_cube calculation</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>&amp;CONTROL
FindNodes_calc = T
/
&amp;PARAMETERS
Nk1 = 8   ! No. of slices for the 1st reciprocal vector
Nk2 = 8   ! No. of slices for the 2nd reciprocal vector
Nk3 = 8   ! No. of slices for the 3rd reciprocal vector
/

KCUBE_BULK
-0.50 -0.50 -0.50   ! Original point for 3D k plane
 1.00  0.00  0.00   ! The 1st vector to define 3d k cube
 0.00  1.00  0.00   ! The 2nd vector to define 3d k cube
 0.00  0.00  1.00   ! The 3rd vector to define 3d k cube
</pre></div>
</div>
<p>Outputs are <strong>Nodes.dat</strong> and <strong>Nodes.gnu</strong>. Nodes.png will be obtained by</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">gnuplot</span> <span class="n">Nodes</span><span class="o">.</span><span class="n">gnu</span>
</pre></div>
</div>
<p>Here are the output for WTe2 <strong>Nodes.dat</strong></p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="c1"># local minimal position and the related energy gap</span>
<span class="c1">#      kx          ky          kz         gap           E          k1          k2          k3</span>
    <span class="mf">0.219436</span>   <span class="o">-</span><span class="mf">0.045611</span>   <span class="o">-</span><span class="mf">0.000001</span>    <span class="mf">0.000000</span>    <span class="mf">0.056688</span>    <span class="mf">0.121432</span>   <span class="o">-</span><span class="mf">0.045363</span>   <span class="o">-</span><span class="mf">0.000003</span>
   <span class="o">-</span><span class="mf">0.219515</span>   <span class="o">-</span><span class="mf">0.045063</span>   <span class="o">-</span><span class="mf">0.000001</span>    <span class="mf">0.000000</span>    <span class="mf">0.056461</span>   <span class="o">-</span><span class="mf">0.121476</span>   <span class="o">-</span><span class="mf">0.044818</span>   <span class="o">-</span><span class="mf">0.000002</span>
    <span class="mf">0.220195</span>   <span class="o">-</span><span class="mf">0.038682</span>   <span class="o">-</span><span class="mf">0.000002</span>    <span class="mf">0.000000</span>    <span class="mf">0.051264</span>    <span class="mf">0.121852</span>   <span class="o">-</span><span class="mf">0.038472</span>   <span class="o">-</span><span class="mf">0.000003</span>
   <span class="o">-</span><span class="mf">0.220183</span>   <span class="o">-</span><span class="mf">0.038936</span>   <span class="o">-</span><span class="mf">0.000001</span>    <span class="mf">0.000000</span>    <span class="mf">0.051618</span>   <span class="o">-</span><span class="mf">0.121845</span>   <span class="o">-</span><span class="mf">0.038724</span>   <span class="o">-</span><span class="mf">0.000003</span>
    <span class="mf">0.219514</span>    <span class="mf">0.045063</span>    <span class="mf">0.000001</span>    <span class="mf">0.000000</span>    <span class="mf">0.056459</span>    <span class="mf">0.121475</span>    <span class="mf">0.044818</span>    <span class="mf">0.000003</span>
   <span class="o">-</span><span class="mf">0.219434</span>    <span class="mf">0.045620</span>    <span class="mf">0.000002</span>    <span class="mf">0.000000</span>    <span class="mf">0.056692</span>   <span class="o">-</span><span class="mf">0.121431</span>    <span class="mf">0.045371</span>    <span class="mf">0.000004</span>
   <span class="o">-</span><span class="mf">0.220194</span>    <span class="mf">0.038678</span>    <span class="mf">0.000000</span>    <span class="mf">0.000000</span>    <span class="mf">0.051259</span>   <span class="o">-</span><span class="mf">0.121851</span>    <span class="mf">0.038468</span>    <span class="mf">0.000001</span>
    <span class="mf">0.220181</span>    <span class="mf">0.038941</span>    <span class="mf">0.000000</span>    <span class="mf">0.000000</span>    <span class="mf">0.051620</span>    <span class="mf">0.121844</span>    <span class="mf">0.038729</span>    <span class="mf">0.000001</span>
</pre></div>
</div>
<p>You will find that there are 8 Weyl points in the BZ as expected.</p>
</div>
<div class="section" id="slab-band-calculation">
<span id="slabbandcalculation"></span><h2>Slab band calculation<a class="headerlink" href="#slab-band-calculation" title="Permalink to this headline">¶</a></h2>
<p>Before using iterative green’s function to get the surface state spectrum for semi-infinite system.
We also can just construct a finite thickness slab system and
calculate the band structure for it.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">For slab calculations, please read carefully the input card <a class="reference internal" href="input.html#surface"><span class="std std-ref">SURFACE</span></a></p>
</div>
<div class="section" id="id7">
<h3>Input<a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default"><div class="highlight"><pre><span></span>&amp;CONTROL
SlabBand_calc = T
/
&amp;SYSTEM
NSLAB = 10
/
&amp;PARAMETERS
Nk1 = 101   ! No. of slices for the 1st reciprocal vector
/
KPATH_SLAB
2        ! numker of k line for 2D case
K 0.33 0.67 G 0.0 0.0  ! k path for 2D case
G 0.0 0.0 M 0.5 0.5
</pre></div>
</div>
<p>See <a class="reference internal" href="input.html#controlnamelist"><span class="std std-ref">CONTROL</span></a>, <a class="reference internal" href="input.html#systemnamelist"><span class="std std-ref">SYSTEM</span></a> <a class="reference internal" href="input.html#parametersnamelist"><span class="std std-ref">PARAMETERS</span></a>, <a class="reference internal" href="input.html#kpathslab"><span class="std std-ref">KPATH_SLAB</span></a></p>
</div>
<div class="section" id="id8">
<h3>Output<a class="headerlink" href="#id8" title="Permalink to this headline">¶</a></h3>
<p>Outputs are <strong>slabek.dat</strong> and <strong>slabek.gnu</strong></p>
<p>The heads of <strong>slabek.dat</strong> are</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="mf">0.0000000</span>     <span class="o">-</span><span class="mf">4.9575466</span>     <span class="mi">240</span>
<span class="mf">0.0508687</span>     <span class="o">-</span><span class="mf">5.0110528</span>     <span class="mi">226</span>
<span class="mf">0.1017373</span>     <span class="o">-</span><span class="mf">5.0566963</span>     <span class="mi">221</span>
<span class="mf">0.1526060</span>     <span class="o">-</span><span class="mf">5.0671994</span>     <span class="mi">220</span>
<span class="o">...</span>
</pre></div>
</div>
<ul class="simple">
<li>The 1st column are k points in the KPATH_SLAB</li>
<li>The 2nd column are energy values.</li>
<li>The 3rd column represent the surface weight, which is normalized to 255.</li>
</ul>
<p>The colorfull plot <strong>slabek.png</strong> of the slab energy bands can be obtained by</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">gnuplot</span> <span class="n">slabek</span><span class="o">.</span><span class="n">gnu</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="nanowire-nanoribbon-band-calculation">
<span id="ribbonbandcalculation"></span><h2>Nanowire/nanoribbon  band calculation<a class="headerlink" href="#nanowire-nanoribbon-band-calculation" title="Permalink to this headline">¶</a></h2>
<p>Band calculation for wire system. Only one direction is periodic, the other two directions are confined.</p>
<div class="section" id="id9">
<h3>Input<a class="headerlink" href="#id9" title="Permalink to this headline">¶</a></h3>
<p>You don&#8217;t have to set the k path, because it only has one direction.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>&amp;CONTROL
WireBand_calc = T
/
&amp;SYSTEM
NSLAB1 = 4
NSLAB2 = 4
/
&amp;PARAMETERS
Nk1 = 101   ! No. of slices for the 1st reciprocal vector
/
</pre></div>
</div>
<p>See <a class="reference internal" href="input.html#controlnamelist"><span class="std std-ref">CONTROL</span></a>, <a class="reference internal" href="input.html#systemnamelist"><span class="std std-ref">SYSTEM</span></a> <a class="reference internal" href="input.html#parametersnamelist"><span class="std std-ref">PARAMETERS</span></a></p>
</div>
<div class="section" id="id10">
<h3>Output<a class="headerlink" href="#id10" title="Permalink to this headline">¶</a></h3>
<p>Outputs are <strong>ribbonek.dat</strong> and <strong>ribbonek.gnu</strong>. The data format of <strong>ribbonek.dat</strong> is the same as
<strong>slabek.dat</strong>. Get plot ribbonek.png with</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">gnuplot</span> <span class="n">ribbonek</span><span class="o">.</span><span class="n">gnu</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="surface-state-arpes-calculation">
<span id="sscalculation"></span><h2>Surface state ARPES calculation<a class="headerlink" href="#surface-state-arpes-calculation" title="Permalink to this headline">¶</a></h2>
<p>One important feature for topological materials is the surface state. The bulk-edge correspondence
tells us, if the topological property of the bulk system is nontrivial, then there will be
nontrivial states on the surface. Nowadays, there are several method to detect the surface states.
One direct way is the angle resolved photoemission spectroscopy (ARPES). Such spectrum can be
obtained by the iterative Green&#8217;s function.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">For slab calculations, please read carefully the input card <a class="reference internal" href="input.html#surface"><span class="std std-ref">SURFACE</span></a></p>
</div>
<div class="section" id="id11">
<h3>Input<a class="headerlink" href="#id11" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default"><div class="highlight"><pre><span></span>&amp;CONTROL
SlabSS_calc = T
/
&amp;PARAMETERS
OmegaNum = 101
OmegaMin = -1.0
OmegaMax =  1.0
Nk1 = 101   ! No. of slices for the 1st reciprocal vector
NP = 2      ! principle layer
/
KPATH_SLAB
2        ! numker of k line for 2D case
K 0.33 0.67 G 0.0 0.0  ! k path for 2D case
G 0.0 0.0 M 0.5 0.5
</pre></div>
</div>
<p>See <a class="reference internal" href="input.html#controlnamelist"><span class="std std-ref">CONTROL</span></a>, <a class="reference internal" href="input.html#parametersnamelist"><span class="std std-ref">PARAMETERS</span></a>, <a class="reference internal" href="input.html#kpathslab"><span class="std std-ref">KPATH_SLAB</span></a></p>
<p>NP : integer valued, Number of principle layers, see details related to iterative green’s function. Used if  SlabSS_calc= T, SlabArc_calc=T, SlabSpintexture_calc=T. Default value is 2. You need to do a convergence test by setting Np= 1, Np=2, Np=3, and check the surface state spectrum. Basically, the value of Np depends on the spread of Wannier functions you constructed. One thing should be mentioned is that the computational time grows cubically of Np.</p>
</div>
</div>
<div class="section" id="surface-state-qpi-calculation">
<span id="ssqpicalculation"></span><h2>Surface state QPI calculation<a class="headerlink" href="#surface-state-qpi-calculation" title="Permalink to this headline">¶</a></h2>
<p>Settings for this feature are almost the same as <a class="reference internal" href="#fermiarccalculation"><span class="std std-ref">Fermi arc calculation</span></a>. Only difference is that
you should set</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">&amp;</span><span class="n">CONTROL</span>
<span class="n">SlabQPI_calc</span>          <span class="o">=</span> <span class="n">T</span>
<span class="o">/</span>
</pre></div>
</div>
<div class="section" id="id12">
<h3>Output<a class="headerlink" href="#id12" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt>There are a lot of outputs for QPI calculation. including</dt>
<dd><p class="first">arc.dat_l, arc.dat_r,
arc_l.gnu, arc_r.gnu,
arc_l_only.gnu, arc_l_only.gnu,
arc.jdat_l, arc.jdat_r,
arc.jsdat_l, arc.jsdat_r,
arc_l_jdos.gnu, arc_l_jsdos.gnu,
arc_r_jdos.gnu, arc_r_jsdos.gnu.</p>
<p class="last">The gnu script with &#8216;only&#8217; means we only plot the spectrum with the surface contribution, exclude the
bulk contribution.</p>
</dd>
</dl>
</div>
</div>
<div class="section" id="fermi-arc-calculation">
<span id="fermiarccalculation"></span><h2>Fermi arc calculation<a class="headerlink" href="#fermi-arc-calculation" title="Permalink to this headline">¶</a></h2>
<p>Surface state spectrum at fixed energy level E_arc set in NAMELISTS PARAMETERS . Set SlabArc_calc=T, and  set Nk1, Nk2, in NAMELISTS PARAMETERS, set k plane in KPLANE_SLAB CARD. Get the plots with  &#8220;gnuplot arc_l.gnu”, &#8220;gnuplot arc_r.gnu”.</p>
</div>
<div class="section" id="spin-texture-calculation">
<span id="spintexturecalculation"></span><h2>Spin texture calculation<a class="headerlink" href="#spin-texture-calculation" title="Permalink to this headline">¶</a></h2>
<p>Spin texture calculation at fixed energy level E_arc set in NAMELISTS PARAMETERS . Set SlabArc_calc=T, and  set Nk1, Nk2, in NAMELISTS PARAMETERS, set k plane in KPLANE_SLAB CARD. Get the plots with  &#8220;gnuplot spintext_l.gnu”, &#8220;gnuplot spintext_r.gnu”.</p>
</div>
<div class="section" id="berry-curvature-calculation">
<span id="berrycurvcalculation"></span><h2>Berry curvature calculation<a class="headerlink" href="#berry-curvature-calculation" title="Permalink to this headline">¶</a></h2>
<p>Calculate Berry curvature at a fixed k plane in 3D BZ. Set BerryCurvature_calc=T, and  set Nk1, Nk2, in NAMELISTS PARAMETERS, set k plane in KPLANE_BULK CARD. Get the plot with  &#8220;gnuplot Berrycurvature.gnu”.</p>
</div>
<div class="section" id="wannier-charge-center-wilson-loop-calculation">
<span id="wanniercentercalculation"></span><h2>Wannier charge center/Wilson loop calculation<a class="headerlink" href="#wannier-charge-center-wilson-loop-calculation" title="Permalink to this headline">¶</a></h2>
<p>Wannier charge center, which is sometimes called Wilson loop can be calculated by set WannierCenter_calc=T and set KPLANE_BULK CARD,  set number of k points for two vectors is Nk1, Nk2 in NAMELISTS PARAMETERS.  Notice: You should notice that the first vector in KPLANE_BULK CARD is the integration direction, this vector should be equal to one primitive reciprocal lattice vector.  If you want to calculate the Z2 number, Please set the second vector to be half of the reciprocal lattice vector. You can get the Wannier charge center  along the second k line. See more details In the paper written by Alexey. Soluyanov (2011).</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Features of WannierTools</a><ul>
<li><a class="reference internal" href="#bulk-band-calculation">Bulk band calculation</a><ul>
<li><a class="reference internal" href="#input">Input</a></li>
<li><a class="reference internal" href="#output">Output</a></li>
</ul>
</li>
<li><a class="reference internal" href="#bulkfs-calculation">BulkFS calculation</a><ul>
<li><a class="reference internal" href="#id1">Input</a></li>
<li><a class="reference internal" href="#id2">Output</a></li>
</ul>
</li>
<li><a class="reference internal" href="#energy-gap-calculations">Energy gap calculations</a><ul>
<li><a class="reference internal" href="#gap-plane-mode">Gap_plane mode</a><ul>
<li><a class="reference internal" href="#id3">Input</a></li>
<li><a class="reference internal" href="#id4">Output</a></li>
</ul>
</li>
<li><a class="reference internal" href="#gap-cube-mode">Gap_Cube mode</a><ul>
<li><a class="reference internal" href="#id5">Input</a></li>
<li><a class="reference internal" href="#id6">Output</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#find-nodes-calculation">Find Nodes calculation</a></li>
<li><a class="reference internal" href="#slab-band-calculation">Slab band calculation</a><ul>
<li><a class="reference internal" href="#id7">Input</a></li>
<li><a class="reference internal" href="#id8">Output</a></li>
</ul>
</li>
<li><a class="reference internal" href="#nanowire-nanoribbon-band-calculation">Nanowire/nanoribbon  band calculation</a><ul>
<li><a class="reference internal" href="#id9">Input</a></li>
<li><a class="reference internal" href="#id10">Output</a></li>
</ul>
</li>
<li><a class="reference internal" href="#surface-state-arpes-calculation">Surface state ARPES calculation</a><ul>
<li><a class="reference internal" href="#id11">Input</a></li>
</ul>
</li>
<li><a class="reference internal" href="#surface-state-qpi-calculation">Surface state QPI calculation</a><ul>
<li><a class="reference internal" href="#id12">Output</a></li>
</ul>
</li>
<li><a class="reference internal" href="#fermi-arc-calculation">Fermi arc calculation</a></li>
<li><a class="reference internal" href="#spin-texture-calculation">Spin texture calculation</a></li>
<li><a class="reference internal" href="#berry-curvature-calculation">Berry curvature calculation</a></li>
<li><a class="reference internal" href="#wannier-charge-center-wilson-loop-calculation">Wannier charge center/Wilson loop calculation</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="input.html"
                        title="previous chapter">Input</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="examples.html"
                        title="next chapter">Examples</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="sources/features.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="f-modindex.html" title="Fortran Module Index"
             >fortran modules</a> |</li>
        <li class="right" >
          <a href="examples.html" title="Examples"
             >next</a> |</li>
        <li class="right" >
          <a href="input.html" title="Input"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">WannierTools 2.1 documentation</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2016, QuanSheng Wu.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.4.8.
    </div>
  </body>
</html>